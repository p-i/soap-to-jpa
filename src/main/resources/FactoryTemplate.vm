package $package;

/**
* GENERATED JPA CONTENT. DO NOT MODIFY!
*
* generated by soap-to-jpa Maven plugin (https://github.com/p-i/soap-to-jpa)
*/
public class JPAEntitiesFactory {

    private static JPAEntitiesFactory _instance;

    private JPAEntitiesFactory() {}

    /**
     * Return singletone instance of factory
     */
    public static JPAEntitiesFactory getInstance() {
        if (null == _instance) {
            _instance = new JPAEntitiesFactory();
        }
        return _instance;
    }

    /**
     * Creates JPA instance for a given SOAP stub
     */
    public Object create(Object soapStub) {
        Object newObj;

    #foreach($i in [1..${chunkNumber}])

        newObj = JPAEntitiesFactoryChunk${i}.create(soapStub);
        if (null != newObj) return newObj;
    #end

        if (null == soapStub) {
            throw new IllegalArgumentException("Soap Stub is cannot be null. Factory doesn't know which JPA entity to return.");
        }
#foreach( $interface in $interfaces.keySet() )
        else if (soapStub instanceof ${interface}) {
            return new ${interfaces.get($interface)}( ($interface) soapStub);
        }
#end
        else {
            throw new RuntimeException("JPA Realisation for the " + soapStub + " was not found.");
        }
    }
}